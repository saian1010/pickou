帮我重新写view_post
1.使用users表查用户头像，昵称
2.使用posts查询帖子详情
3.使用votes，vote_options查询投票选项
4.使用user_votes判断当前登录用户是否已投票，以及投了哪个选项
5.使用comments查询用户评论
同时重写post_detail.html
将上述查出来的数据进行渲染，采用小红书风格


修改post_detail页面，投票，评论 调后端接口时，对应的后端接口返回json数据，不跳转页面，前端接到返回值后动态渲染，增强用户体验，请将投票，和评论接口在user.py文件中完成，如果已有对应接口，直接修改，没有则增加